<ng-controller ng-controller="AmmaStoreFormMainController as ammaStoreFormMainController">
    <md-tab md-on-select="ammaStoreFormMainController.init()" ng-init="ammaStoreFormMainController.init()">
        <md-tab-label>
            Main
        </md-tab-label>
        <md-tab-body>
            <md-content class="md-padding">
                <form name="ammaStoreForm" novalidate flex="66">
                    <div class="md-dialog-content" layout="column" flex>
                        <section layout="column" flex>
                            <div layout="row" flex>

                                <md-input-container flex>
                                    <label>Name</label>
                                    <input type="text" ng-model="ammaStoreFormMainController.model._id" name="name"
                                           required ng-readonly="ammaStoreFormMainController.id"/>
                                    <div ng-messages="ammaStoreForm.name.$error" md-auto-hide="false"
                                         ng-show="ammaStoreForm.name.$touched">
                                        <div ng-message="required">
                                            Please enter name of the brand
                                        </div>
                                    </div>
                                </md-input-container>
                                <md-input-container flex>
                                    <label>Title</label>
                                    <input type="text" name="title"
                                           ng-model="ammaStoreFormMainController.model.title" required/>
                                    <div ng-messages="ammaStoreForm.title.$error" md-auto-hide="false"
                                         ng-show="ammaStoreForm.title.$touched">
                                        <div ng-message="required">
                                            Please enter title
                                        </div>
                                    </div>
                                </md-input-container>

                            </div>
                            <div layout="row" flex>

                                <md-input-container flex>
                                    <label>Email</label>
                                    <input type="email" name="email" required
                                           ng-model="ammaStoreFormMainController.model.email"/>
                                    <div ng-messages="ammaStoreForm.email.$error" md-auto-hide="false"
                                         ng-show="ammaStoreForm.email.$touched">
                                        <div ng-message="required">
                                            Please enter email
                                        </div>
                                        <div ng-message="email">
                                            Please enter valid email
                                        </div>
                                    </div>
                                </md-input-container>
                                <md-input-container flex>
                                    <label>Contact Number</label>
                                    <input type="text" name="contactNumber"
                                           ng-model="ammaStoreFormMainController.model.contactNumber" required/>
                                    <div ng-messages="ammaStoreForm.contactNumber.$error" md-auto-hide="false"
                                         ng-show="ammaStoreForm.contactNumber.$touched">
                                        <div ng-message="required">
                                            Please enter contact number
                                        </div>
                                    </div>
                                </md-input-container>

                            </div>
                            <div layout="row" flex>

                                <md-input-container flex>
                                    <label>Parent Store</label>
                                    <md-select name="parent"
                                               ng-model="ammaStoreFormMainController.model.parent">
                                        <md-option value=""></md-option>
                                        <md-option ng-repeat="store in ammaStoreFormMainController.stores"
                                                   ng-if="ammaStoreFormMainController.id || ammaStoreFormMainController.model._id != store._id"
                                                   value="{{store._id}}">
                                            {{store.title}}
                                        </md-option>
                                    </md-select>
                                    <div ng-messages="ammaStoreForm.parent.$error" md-auto-hide="false"
                                         ng-show="ammaStoreForm.parent.$touched">
                                    </div>

                                </md-input-container>
                                <md-input-container flex>
                                    <label>URL</label>
                                    <input type="url" name="website"
                                           ng-model="ammaStoreFormMainController.model.website"/>
                                    <div ng-messages="ammaStoreForm.website.$error" md-auto-hide="false"
                                         ng-show="ammaStoreForm.website.$touched">
                                        <div ng-message="required">
                                            Please enter website
                                        </div>
                                        <div ng-message="url">
                                            Please enter valid url
                                        </div>
                                    </div>
                                </md-input-container>

                            </div>
                            <div layout="row">
                                <div layout="row" flex="50">
                                    <label flex>Is Active?</label>
                                    <md-switch class="md-primary margin-0"
                                               ng-model="ammaStoreFormMainController.model.isActive"
                                               aria-label="isLocked?" flex>
                                    </md-switch>
                                </div>
                            </div>
                        </section>
                        <!--<section>-->
                        <!--<h2>Logo</h2>-->
                        <!--<md-button class="md-primary md-raised"-->
                        <!--ngf-select-->
                        <!--ng-model="ammaStoreFormMainController.logo.images"-->
                        <!--name="logo"-->
                        <!--ngf-pattern="'image/*'"-->
                        <!--ngf-accept="'image/*'"-->
                        <!--ngf-max-size="2MB"-->
                        <!--amma-file-token="ammaStoreFormMainController.model.logoToken"-->
                        <!--amma-file-type="image"-->
                        <!--amma-file="ammaStoreFormMainController.logo.allImages"-->
                        <!--amma-file-busy="ammaStoreFormMainController.logo.isBusy"-->
                        <!--ng-show="!ammaStoreForm.logo.isBusy"-->
                        <!--amma-file-remove-func="ammaStoreFormMainController.logo.fileRemove"-->
                        <!--amma-file-validator="true">Upload-->
                        <!--</md-button>-->
                        <!--<div>-->
                        <!--<md-progress-linear md-mode="indeterminate" ng-show="ammaStoreFormMainController.logo.isBusy"></md-progress-linear>-->
                        <!--<md-grid-list flex md-cols="9" md-cols-xs="9" md-row-height="4:3" md-gutter="10px"-->
                        <!--ng-if="ammaStoreFormMainController.logo.allImages.length">-->
                        <!--<md-grid-tile-->
                        <!--md-rowspan="1" md-colspan="1"-->
                        <!--ng-repeat="image in ammaStoreFormMainController.logo.allImages"-->
                        <!--ng-style="::{ 'background-image': 'url(' + image.url + ')', 'background-size' : 'cover', 'cursor':'pointer' }"-->
                        <!--layout-padding="10">-->
                        <!--<div class="img-wrap">-->
                        <!--<md-button class="md-icon-button md-warn md-img-remove" aria-label="More"-->
                        <!--ng-click="ammaStoreForm.logo.fileRemove(image.filename, $event)">-->
                        <!--<md-icon md-font-icon="zmdi zmdi-close-circle"></md-icon>-->
                        <!--</md-button>-->
                        <!--</div>-->

                        <!--</md-grid-tile>-->
                        <!--</md-grid-list>-->
                        <!--</div>-->
                        <!--</section>-->
                        <section flex layout="column">
                            <h2>Address</h2>
                            <div flex layout="row">
                                <md-input-container flex>
                                    <label>Address Line 1</label>
                                    <input type="text" name="addressLine1"
                                           ng-model="ammaStoreFormMainController.model.address.addressLine1"
                                           required/>
                                    <div ng-messages="ammaStoreForm.addressLine1.$error" md-auto-hide="false"
                                         ng-show="ammaStoreForm.addressLine1.$touched">
                                        <div ng-message="required">
                                            Please enter address line 1
                                        </div>
                                    </div>
                                </md-input-container>
                                <md-input-container flex>
                                    <label>Address Line 2</label>
                                    <input type="text" name="addressLine2"
                                           ng-model="ammaStoreFormMainController.model.address.addressLine2"
                                           required/>
                                    <div ng-messages="ammaStoreForm.addressLine2.$error" md-auto-hide="false"
                                         ng-show="ammaStoreForm.addressLine2.$touched">
                                        <div ng-message="required">
                                            Please enter address line 2
                                        </div>
                                    </div>
                                </md-input-container>
                            </div>

                            <div flex layout="row">
                                <md-input-container flex>
                                    <label>Town</label>
                                    <input type="text" name="town" required
                                           ng-model="ammaStoreFormMainController.model.address.town"/>
                                    <div ng-messages="ammaStoreForm.town.$error" md-auto-hide="false"
                                         ng-show="ammaStoreForm.town.$touched">
                                        <div ng-message="required">
                                            Please enter town
                                        </div>
                                    </div>
                                </md-input-container>
                                <md-input-container flex>
                                    <label>County</label>
                                    <input type="text" name="county"
                                           ng-model="ammaStoreFormMainController.model.address.county"
                                    />
                                    <div ng-messages="ammaStoreForm.county.$error" md-auto-hide="false"
                                         ng-show="ammaStoreForm.county.$touched">
                                    </div>
                                </md-input-container>
                            </div>

                            <div flex layout="row">
                                <md-input-container flex>
                                    <label>Country</label>
                                    <input type="text" name="country"
                                           ng-model="ammaStoreFormMainController.model.address.country"
                                           required/>
                                    <div ng-messages="ammaStoreForm.country.$error" md-auto-hide="false"
                                         ng-show="ammaStoreForm.country.$touched">
                                        <div ng-message="required">
                                            Please enter country
                                        </div>
                                    </div>
                                </md-input-container>
                                <md-input-container flex>
                                    <label>Postcode</label>
                                    <input type="text" name="postcode"
                                           ng-model="ammaStoreFormMainController.model.address.postcode"
                                           required/>
                                    <div ng-messages="ammaStoreForm.postcode.$error" md-auto-hide="false"
                                         ng-show="ammaStoreForm.postcode.$touched">
                                        <div ng-message="required">
                                            Please enter postcode
                                        </div>
                                    </div>
                                </md-input-container>
                            </div>
                        </section>
                    </div>
                    <div class="amma-dialog-actions">

                        <md-button class="md-primary md-raised"
                                   ng-click="ammaStoreFormMainController.submit($event)"
                                   ng-disabled="ammaStoreForm.$invalid" md-autofocus>Save
                        </md-button>
                        <md-button class="md-warn md-raised" ng-click="ammaStoreFormMainController.cancel()">
                            Cancel
                        </md-button>
                    </div>

                </form>

            </md-content>
        </md-tab-body>

    </md-tab>
</ng-controller>
