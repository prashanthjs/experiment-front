include ../../../../../amma-common/common/views/common

- var scope = {controller:'AmmaOrderFormMainPaymentItemController', controllerAlias:'ammaOrderFormMainPaymentItemController', formName: 'ammaOrderMainPaymentItemForm'};
md-dialog(ng-cloak='', flex='')
    md-toolbar
        .md-toolbar-tools
            h2 Add Payment details
            span(flex='')
            md-button.md-icon-button(ng-click= scope.controllerAlias + '.cancel()')
                md-icon(md-font-icon='zmdi zmdi-close')
    md-dialog-content
        md-content.md-padding
            +amma-form(scope)(flex='66')
                div(layout='column', flex='')
                    section
                        div(layout='row', flex='')
                            +amma-payment-method-autocomplete-full(scope,'searchPayment', 'Search Payment', scope.controllerAlias + '.searchPayment')(md-selected-item-change=scope.controllerAlias + ".itemChange(item)", flex='', class="md-icon-float")
                                md-icon(md-font-icon='fa fa-search')
                        div(layout='row', flex='')
                            +amma-form-item-container(scope)
                                +amma-input(scope, 'paymentId', 'Payment Id', null, scope.controllerAlias + '.dataItem._id')(ng-disabled = 'true')

                            +amma-form-item-container(scope)
                                +amma-input(scope, 'paymentTitle', 'Title', null, scope.controllerAlias + '.dataItem.title')(required='')
                                +amma-error-wrapper(scope, 'paymentTitle')
                                    +amma-error-item('required') Please enter title


                        div(layout='row', flex='')
                            +amma-form-item-container(scope)
                                +amma-input(scope, 'paymentReference', 'Reference', null, scope.controllerAlias + '.dataItem.reference')
                            +amma-form-item-container(scope)
                                +amma-input(scope, 'paymentAmount', 'Amount', 'number', scope.controllerAlias + '.dataItem.amount')(required='', min='0')
                                +amma-error-wrapper(scope, 'paymentAmount')
                                    +amma-error-item('required') Please enter amount
                                    +amma-error-item('min') Invalid amount

                    div(layout='row', flex='')
                        div(layout='row', flex='')
                            +amma-form-item-container(scope)
                                +amma-text-area(scope, 'paymentCustomerNotes', 'Customer Notes', scope.controllerAlias + '.dataItem.notes.customer' )(md-maxlength='150')
                        div(layout='row', flex='')
                            +amma-form-item-container(scope)
                                +amma-text-area(scope, 'paymentStaffNotes', 'Staff Notes', scope.controllerAlias + '.dataItem.notes.staff')(md-maxlength='150')

    md-dialog-actions
        +amma-button-primary('Save & Close')(ng-click= scope.controllerAlias + '.saveAndClose()', ng-disabled=scope.formName + '.$invalid', md-autofocus='')
        +amma-button-warning('Cancel')(ng-click= scope.controllerAlias + '.cancel()')



