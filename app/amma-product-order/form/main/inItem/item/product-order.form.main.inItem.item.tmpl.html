<md-dialog ng-cloak="" flex=""><md-toolbar><div class="md-toolbar-tools"><h2>Add Product</h2><span flex=""></span><md-button class="md-icon-button" ng-click="ammaProductOrderFormMainInItemItemController.cancel()"><md-icon md-font-icon="zmdi zmdi-close"></md-icon></md-button></div></md-toolbar><md-dialog-content><md-content class="md-padding"><form name="ammaProductOrderMainInItemItemForm" novalidate="" ng-submit="$event.preventDefault()" flex="66"><div layout="column" flex=""><section><div layout="row" flex=""><md-autocomplete class="md-icon-float" md-selected-item="ammaProductOrderFormMainInItemItemController.searchProduct" md-search-text="searchProduct_searchText" md-items="item in searchProduct_productSearch(searchProduct_searchText)" md-item-text="item._id" md-require-match="" placeholder="Search product" md-floating-label="Search Product" amma-product-search="searchProduct_productSearch" amma-product-search-only-id="false" md-selected-item-change="ammaProductOrderFormMainInItemItemController.itemChange(item)" flex=""><md-item-template><span md-highlight-text="searchProduct_searchText">{{item._id}}</span></md-item-template><md-icon md-font-icon="fa fa-search"></md-icon></md-autocomplete></div><div layout="row" flex=""><md-input-container flex=""><label>Product Id</label><input type="text" ng-model="ammaProductOrderFormMainInItemItemController.dataItem._id" name="productId" ng-disabled="true"/></md-input-container><md-input-container flex=""><label>Title</label><input type="text" ng-model="ammaProductOrderFormMainInItemItemController.dataItem.title" name="productTitle" required=""/><div ng-messages="ammaProductOrderMainInItemItemForm.productTitle.$error" md-auto-hide="false" ng-show="ammaProductOrderMainInItemItemForm.productTitle.$touched"><div ng-message="required">Please enter title</div></div></md-input-container></div><div layout="row" flex=""><md-input-container flex=""><label>SKU</label><input type="text" ng-model="ammaProductOrderFormMainInItemItemController.dataItem.sku" name="productSku"/></md-input-container><md-input-container flex=""><label>Quantity</label><input type="number" ng-model="ammaProductOrderFormMainInItemItemController.dataItem.qty" name="productQty" required="" ng-step="ammaProductOrderFormMainInItemItemController.stepQty" ng-min="ammaProductOrderFormMainInItemItemController.minQty" ng-max="ammaProductOrderFormMainInItemItemController.maxQty"/><div ng-messages="ammaProductOrderMainInItemItemForm.productQty.$error" md-auto-hide="false" ng-show="ammaProductOrderMainInItemItemForm.productQty.$touched"><div ng-message="required">Please enter quantity</div><div ng-message="min">Invalid min Quantity</div><div ng-message="max">Invalid max Quantity</div></div></md-input-container></div><div layout="row" flex=""><md-input-container flex=""><label>Sell price</label><input type="number" ng-model="ammaProductOrderFormMainInItemItemController.dataItem.price.sell" name="productSellPrice" required="" min="0"/><div ng-messages="ammaProductOrderMainInItemItemForm.productSellPrice.$error" md-auto-hide="false" ng-show="ammaProductOrderMainInItemItemForm.productSellPrice.$touched"><div ng-message="required">Please enter sell price</div><div ng-message="min">Invalid sell price</div></div></md-input-container><md-input-container flex=""><label>Cost price</label><input type="number" ng-model="ammaProductOrderFormMainInItemItemController.dataItem.price.cost" name="productCostPrice" min="0"/><div ng-messages="ammaProductOrderMainInItemItemForm.productCostPrice.$error" md-auto-hide="false" ng-show="ammaProductOrderMainInItemItemForm.productCostPrice.$touched"><div ng-message="min">Invalid cost price</div></div></md-input-container><md-input-container flex=""><label>List price</label><input type="number" ng-model="ammaProductOrderFormMainInItemItemController.dataItem.price.list" name="productListPrice" min="0"/><div ng-messages="ammaProductOrderMainInItemItemForm.productListPrice.$error" md-auto-hide="false" ng-show="ammaProductOrderMainInItemItemForm.productListPrice.$touched"><div ng-message="min">Invalid list price</div></div></md-input-container></div><div layout="row" flex=""><md-input-container flex=""><label>Weight</label><input type="number" ng-model="ammaProductOrderFormMainInItemItemController.dataItem.shipping.weight" name="productWeight" min="0"/><div ng-messages="ammaProductOrderMainInItemItemForm.productWeight.$error" md-auto-hide="false" ng-show="ammaProductOrderMainInItemItemForm.productWeight.$touched"><div ng-message="required">Please enter weight</div><div ng-message="min">Invalid weight</div></div></md-input-container><md-input-container flex=""><label>Box length</label><input type="number" ng-model="ammaProductOrderFormMainInItemItemController.dataItem.shipping.box.length" name="productBoxLength" min="0"/><div ng-messages="ammaProductOrderMainInItemItemForm.productBoxLength.$error" md-auto-hide="false" ng-show="ammaProductOrderMainInItemItemForm.productBoxLength.$touched"><div ng-message="required">Please enter box length</div><div ng-message="min">Invalid box length</div></div></md-input-container><md-input-container flex=""><label>Box width</label><input type="number" ng-model="ammaProductOrderFormMainInItemItemController.dataItem.shipping.box.width" name="productBoxWidth" min="0"/><div ng-messages="ammaProductOrderMainInItemItemForm.productBoxWidth.$error" md-auto-hide="false" ng-show="ammaProductOrderMainInItemItemForm.productBoxWidth.$touched"><div ng-message="required">Please enter box width</div><div ng-message="min">Invalid box width</div></div></md-input-container><md-input-container flex=""><label>Box height</label><input type="number" ng-model="ammaProductOrderFormMainInItemItemController.dataItem.shipping.box.height" name="productBoxHeight" min="0"/><div ng-messages="ammaProductOrderMainInItemItemForm.productBoxHeight.$error" md-auto-hide="false" ng-show="ammaProductOrderMainInItemItemForm.productBoxHeight.$touched"><div ng-message="required">Please enter box height</div><div ng-message="min">Invalid box height</div></div></md-input-container></div></section><section><h3>In Items</h3><div layout="row" layout-align="end center"><md-button class="md-primary md-raised" ng-click="ammaProductOrderFormMainInItemItemController.addInItem($event)">Add</md-button></div><md-table-container><table md-table=""><thead md-head=""><tr md-row=""><th md-column=""><span>Id</span></th><th md-column=""><span>Title</span></th><th md-column=""><span>Sell price</span></th><th md-column=""><span>Cost price</span></th><th md-column=""><span>List Price</span></th><th md-column="">Actions</th></tr></thead><tbody md-body=""><tr md-row="" ng-show="ammaProductOrderFormMainInItemItemController.dataItem.inItems &amp;&amp; ammaProductOrderFormMainInItemItemController.dataItem.inItems.length" ng-repeat="(key,item) in ammaProductOrderFormMainInItemItemController.dataItem.inItems"><td md-cell=""><md-input-container flex=""><input type="text" ng-model="item._id" name="InItem_itemId_{{$index}}" required=""/><div ng-messages="ammaProductOrderMainInItemItemForm[&quot;InItem_itemId_&quot;+$index].$error" md-auto-hide="false" ng-show="ammaProductOrderMainInItemItemForm[&quot;InItem_itemId_&quot;+$index].$touched"><div ng-message="required">Please enter Item Id</div></div></md-input-container></td><td md-cell=""><md-input-container flex=""><input type="text" ng-model="item.title" name="InItem_itemTitle_{{$index}}" required=""/><div ng-messages="ammaProductOrderMainInItemItemForm[&quot;InItem_itemTitle_&quot;+$index].$error" md-auto-hide="false" ng-show="ammaProductOrderMainInItemItemForm[&quot;InItem_itemTitle_&quot;+$index].$touched"><div ng-message="required">Please enter Title</div></div></md-input-container></td><td md-cell=""><md-input-container flex=""><input type="number" ng-model="item.price.sell" name="InItem_itemSellPrice_{{$index}}" required=""/><div ng-messages="ammaProductOrderMainInItemItemForm[&quot;InItem_itemSellPrice_&quot;+$index].$error" md-auto-hide="false" ng-show="ammaProductOrderMainInItemItemForm[&quot;InItem_itemSellPrice_&quot;+$index].$touched"><div ng-message="required">Please enter sell price</div><div ng-message="number">Please enter valid price</div></div></md-input-container></td><td md-cell=""><md-input-container flex=""><input type="number" ng-model="item.price.cost" name="InItem_itemCostPrice_{{$index}}"/><div ng-messages="ammaProductOrderMainInItemItemForm[&quot;InItem_itemCostPrice_&quot;+$index].$error" md-auto-hide="false" ng-show="ammaProductOrderMainInItemItemForm[&quot;InItem_itemCostPrice_&quot;+$index].$touched"><div ng-message="number">Please enter valid price</div></div></md-input-container></td><td md-cell=""><md-input-container flex=""><input type="number" ng-model="item.price.list" name="InItem_itemListPrice_{{$index}}"/><div ng-messages="ammaProductOrderMainInItemItemForm[&quot;InItem_itemListPrice_&quot;+$index].$error" md-auto-hide="false" ng-show="ammaProductOrderMainInItemItemForm[&quot;InItem_itemListPrice_&quot;+$index].$touched"><div ng-message="number">Please enter valid price</div></div></md-input-container></td><td md-cell=""><md-button class="md-fab md-warn md-raised md-mini" aria-label="Delete" ng-click="ammaProductOrderFormMainInItemItemController.removeInItem(key)"><md-icon md-font-icon="fa fa-times"></md-icon></md-button></td></tr><tr md-row="" ng-show="!ammaProductOrderFormMainInItemItemController.dataItem.inItems || !ammaProductOrderFormMainInItemItemController.dataItem.inItems.length"><td md-cell="" colspan="6">Currently there are no items</td></tr></tbody></table></md-table-container></section><section><h3>Out Items</h3><div layout="row" layout-align="end center"><md-button class="md-primary md-raised" ng-click="ammaProductOrderFormMainInItemItemController.addOutItem($event)">Add</md-button></div><md-table-container><table md-table=""><thead md-head=""><tr md-row=""><th md-column=""><span>Id</span></th><th md-column=""><span>Title</span></th><th md-column=""><span>Sell price</span></th><th md-column=""><span>Cost price</span></th><th md-column=""><span>List Price</span></th><th md-column="">Actions</th></tr></thead><tbody md-body=""><tr md-row="" ng-show="ammaProductOrderFormMainInItemItemController.dataItem.outItems &amp;&amp; ammaProductOrderFormMainInItemItemController.dataItem.outItems.length" ng-repeat="(key,item) in ammaProductOrderFormMainInItemItemController.dataItem.outItems"><td md-cell=""><md-input-container flex=""><input type="text" ng-model="item._id" name="OutItem_itemId_{{$index}}" required=""/><div ng-messages="ammaProductOrderMainInItemItemForm[&quot;OutItem_itemId_&quot;+$index].$error" md-auto-hide="false" ng-show="ammaProductOrderMainInItemItemForm[&quot;OutItem_itemId_&quot;+$index].$touched"><div ng-message="required">Please enter Item Id</div></div></md-input-container></td><td md-cell=""><md-input-container flex=""><input type="text" ng-model="item.title" name="OutItem_itemTitle_{{$index}}" required=""/><div ng-messages="ammaProductOrderMainInItemItemForm[&quot;OutItem_itemTitle_&quot;+$index].$error" md-auto-hide="false" ng-show="ammaProductOrderMainInItemItemForm[&quot;OutItem_itemTitle_&quot;+$index].$touched"><div ng-message="required">Please enter Title</div></div></md-input-container></td><td md-cell=""><md-input-container flex=""><input type="number" ng-model="item.price.sell" name="OutItem_itemSellPrice_{{$index}}" required=""/><div ng-messages="ammaProductOrderMainInItemItemForm[&quot;OutItem_itemSellPrice_&quot;+$index].$error" md-auto-hide="false" ng-show="ammaProductOrderMainInItemItemForm[&quot;OutItem_itemSellPrice_&quot;+$index].$touched"><div ng-message="required">Please enter sell price</div><div ng-message="number">Please enter valid price</div></div></md-input-container></td><td md-cell=""><md-input-container flex=""><input type="number" ng-model="item.price.cost" name="OutItem_itemCostPrice_{{$index}}"/><div ng-messages="ammaProductOrderMainInItemItemForm[&quot;OutItem_itemCostPrice_&quot;+$index].$error" md-auto-hide="false" ng-show="ammaProductOrderMainInItemItemForm[&quot;OutItem_itemCostPrice_&quot;+$index].$touched"><div ng-message="number">Please enter valid price</div></div></md-input-container></td><td md-cell=""><md-input-container flex=""><input type="number" ng-model="item.price.list" name="OutItem_itemListPrice_{{$index}}"/><div ng-messages="ammaProductOrderMainInItemItemForm[&quot;OutItem_itemListPrice_&quot;+$index].$error" md-auto-hide="false" ng-show="ammaProductOrderMainInItemItemForm[&quot;OutItem_itemListPrice_&quot;+$index].$touched"><div ng-message="number">Please enter valid price</div></div></md-input-container></td><td md-cell=""><md-button class="md-fab md-warn md-raised md-mini" aria-label="Delete" ng-click="ammaProductOrderFormMainInItemItemController.removeOutItem(key)"><md-icon md-font-icon="fa fa-times"></md-icon></md-button></td></tr><tr md-row="" ng-show="!ammaProductOrderFormMainInItemItemController.dataItem.outItems || !ammaProductOrderFormMainInItemItemController.dataItem.outItems.length"><td md-cell="" colspan="6">Currently there are no items</td></tr></tbody></table></md-table-container></section></div></form></md-content></md-dialog-content><md-dialog-actions><md-button class="md-primary md-raised" ng-click="ammaProductOrderFormMainInItemItemController.saveAndClose()" ng-disabled="ammaProductOrderMainInItemItemForm.$invalid" md-autofocus="">Save &amp; Close</md-button><md-button class="md-warn md-raised" ng-click="ammaProductOrderFormMainInItemItemController.cancel()">Cancel</md-button></md-dialog-actions></md-dialog>